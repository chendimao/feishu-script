{"version":3,"file":"test-ZXf8v1C9.js","sources":["../../../../pages/test.vue"],"sourcesContent":["<template>\n  <div class=\"test-page\">\n    <h1>测试页面</h1>\n    \n    <el-card>\n      <template #header>\n        <h3>基本功能测试</h3>\n      </template>\n      \n      <el-form label-width=\"120px\">\n        <el-form-item label=\"App Token\">\n          <el-input v-model=\"appToken\" placeholder=\"输入app token\" />\n        </el-form-item>\n        \n        <el-form-item label=\"Table ID\">\n          <el-input v-model=\"tableId\" placeholder=\"输入table id\" />\n        </el-form-item>\n        \n        <el-form-item>\n          <el-button type=\"primary\" @click=\"testConnection\" :loading=\"loading\">\n            测试连接\n          </el-button>\n        </el-form-item>\n      </el-form>\n      \n      <div v-if=\"result\" class=\"result\">\n        <h4>测试结果：</h4>\n        <pre>{{ result }}</pre>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\n\nconst appToken = ref('test_app_token')\nconst tableId = ref('test_table_id')\nconst loading = ref(false)\nconst result = ref('')\n\nasync function testConnection() {\n  loading.value = true\n  result.value = ''\n  \n  try {\n    if (!appToken.value || !tableId.value) {\n      result.value = '请输入 App Token 和 Table ID'\n      return\n    }\n    \n    // 测试基本API\n    const testResponse = await $fetch('/api/test')\n    result.value = `基本API测试:\\n${JSON.stringify(testResponse, null, 2)}\\n\\n`\n    \n    // 测试获取字段\n    const fieldsResponse = await $fetch('/api/feishu/fields', {\n      method: 'POST',\n      body: {\n        appToken: appToken.value,\n        tableId: tableId.value\n      }\n    })\n    result.value += `字段API测试:\\n${JSON.stringify(fieldsResponse, null, 2)}\\n\\n`\n    \n    // 测试获取记录\n    const recordsResponse = await $fetch('/api/feishu/records', {\n      method: 'POST',\n      body: {\n        appToken: appToken.value,\n        tableId: tableId.value,\n        limit: 3\n      }\n    })\n    result.value += `记录API测试:\\n${JSON.stringify(recordsResponse, null, 2)}\\n\\n`\n    \n    // 测试URL扩展\n    const urlResponse = await $fetch('/api/url-expand/batch', {\n      method: 'POST',\n      body: {\n        urls: ['https://bit.ly/test1', 'https://t.cn/test2']\n      }\n    })\n    result.value += `URL扩展API测试:\\n${JSON.stringify(urlResponse, null, 2)}`\n    \n  } catch (error) {\n    result.value = `错误: ${error}`\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.test-page {\n  padding: 20px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.result {\n  margin-top: 20px;\n  padding: 16px;\n  background: #f5f5f5;\n  border-radius: 4px;\n}\n\n.result pre {\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_withCtx","_createTextVNode","_createVNode","_toDisplayString","_createCommentVNode"],"mappings":"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"}