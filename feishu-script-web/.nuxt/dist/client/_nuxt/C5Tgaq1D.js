import{b as O,d as E,_ as B,w as S,a as U}from"./Fejg-vgw.js";import{S as W,a7 as q,ab as G,g as T,ad as J,O as _,k as c,U as R,ay as K,aa as Q,d as H,x,y as D,P as C,R as g,L as t,I as V,C as k,al as X,az as Y,av as Z,N as ee,aA as te,z as w,D as se,A as ae,B as N,J as oe,aB as le,am as ne,ak as ie,au as re}from"./Bd8Sv95l.js";import{C as F,U as L,m as de,h as $,t as ce}from"./DWEVfuml.js";import{F as pe,A as me}from"./TUPG9Pl9.js";import{d as ue}from"./DXASGQAI.js";const A=a=>W(a)||q(a)||G(a),fe=O({accordion:Boolean,modelValue:{type:E([Array,String,Number]),default:()=>de([])},expandIconPosition:{type:E([String]),default:"right"},beforeCollapse:{type:E(Function)}}),ve={[L]:A,[F]:A},M=Symbol("collapseContextKey"),ge="ElCollapse",he=(a,n)=>{const s=T($(a.modelValue)),i=o=>{s.value=o;const l=a.accordion?s.value[0]:s.value;n(L,l),n(F,l)},e=o=>{if(a.accordion)i([s.value[0]===o?"":o]);else{const l=[...s.value],d=l.indexOf(o);d>-1?l.splice(d,1):l.push(o),i(l)}},r=async o=>{const{beforeCollapse:l}=a;if(!l){e(o);return}const d=l(o);[K(d),Q(d)].includes(!0)||ce(ge,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),K(d)?d.then(u=>{u!==!1&&e(o)}).catch(u=>{}):d&&e(o)};return J(()=>a.modelValue,()=>s.value=$(a.modelValue),{deep:!0}),R(M,{activeNames:s,handleItemClick:r}),{activeNames:s,setActiveNames:i}},ye=a=>{const n=_("collapse");return{rootKls:c(()=>[n.b(),n.b(`icon-position-${a.expandIconPosition}`)])}},Ce=H({name:"ElCollapse",__name:"collapse",props:fe,emits:ve,setup(a,{expose:n,emit:s}){const i=a,e=s,{activeNames:r,setActiveNames:o}=he(i,e),{rootKls:l}=ye(i);return n({activeNames:r,setActiveNames:o}),(d,h)=>(x(),D("div",{class:g(t(l))},[C(d.$slots,"default")],2))}});var be=B(Ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const we=H({name:"ElCollapseTransition",__name:"collapse-transition",setup(a){const n=_("collapse-transition"),s=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},i={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){s(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){s(e)},leaveCancelled(e){s(e)}};return(e,r)=>(x(),V(Z,X({name:t(n).b()},Y(i)),{default:k(()=>[C(e.$slots,"default")]),_:3},16,["name"]))}});var Ee=B(we,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);const xe=S(Ee),_e=O({title:{type:String,default:""},name:{type:E([String,Number]),default:void 0},icon:{type:pe,default:ue},disabled:Boolean}),Pe=a=>{const n=ee(M),{namespace:s}=_("collapse"),i=T(!1),e=T(!1),r=te(),o=c(()=>r.current++),l=c(()=>{var p;return(p=a.name)!=null?p:`${s.value}-id-${r.prefix}-${t(o)}`}),d=c(()=>n?.activeNames.value.includes(t(l)));return{focusing:i,id:o,isActive:d,handleFocus:()=>{setTimeout(()=>{e.value?e.value=!1:i.value=!0},50)},handleHeaderClick:p=>{if(a.disabled)return;const f=p.target;f?.closest("input, textarea, select")||(n?.handleItemClick(t(l)),i.value=!1,e.value=!0)},handleEnterClick:p=>{const f=p.target;f?.closest("input, textarea, select")||(p.preventDefault(),n?.handleItemClick(t(l)))}}},Te=(a,{focusing:n,isActive:s,id:i})=>{const e=_("collapse"),r=c(()=>[e.b("item"),e.is("active",t(s)),e.is("disabled",a.disabled)]),o=c(()=>[e.be("item","header"),e.is("active",t(s)),{focusing:t(n)&&!a.disabled}]),l=c(()=>[e.be("item","arrow"),e.is("active",t(s))]),d=c(()=>[e.be("item","title")]),h=c(()=>e.be("item","wrap")),u=c(()=>e.be("item","content")),b=c(()=>e.b(`content-${t(i)}`)),p=c(()=>e.b(`head-${t(i)}`));return{itemTitleKls:d,arrowKls:l,headKls:o,rootKls:r,itemWrapperKls:h,itemContentKls:u,scopedContentId:b,scopedHeadId:p}},ke=["id","aria-expanded","aria-controls","aria-describedby","tabindex","aria-disabled"],Be=["id","aria-hidden","aria-labelledby"],He=H({name:"ElCollapseItem",__name:"collapse-item",props:_e,setup(a,{expose:n}){const s=a,{focusing:i,id:e,isActive:r,handleFocus:o,handleHeaderClick:l,handleEnterClick:d}=Pe(s),{arrowKls:h,headKls:u,rootKls:b,itemTitleKls:p,itemWrapperKls:f,itemContentKls:z,scopedContentId:P,scopedHeadId:I}=Te(s,{focusing:i,isActive:r,id:e});return n({isActive:r}),(v,m)=>(x(),D("div",{class:g(t(b))},[w("div",{id:t(I),class:g(t(u)),"aria-expanded":t(r),"aria-controls":t(P),"aria-describedby":t(P),tabindex:v.disabled?void 0:0,"aria-disabled":v.disabled,role:"button",onClick:m[0]||(m[0]=(...y)=>t(l)&&t(l)(...y)),onKeydown:m[1]||(m[1]=le(ne((...y)=>t(d)&&t(d)(...y),["stop"]),["space","enter"])),onFocus:m[2]||(m[2]=(...y)=>t(o)&&t(o)(...y)),onBlur:m[3]||(m[3]=y=>i.value=!1)},[w("span",{class:g(t(p))},[C(v.$slots,"title",{isActive:t(r)},()=>[se(ae(v.title),1)])],2),C(v.$slots,"icon",{isActive:t(r)},()=>[N(t(me),{class:g(t(h))},{default:k(()=>[(x(),V(oe(v.icon)))]),_:1},8,["class"])])],42,ke),N(t(xe),null,{default:k(()=>[ie(w("div",{id:t(P),role:"region",class:g(t(f)),"aria-hidden":!t(r),"aria-labelledby":t(I)},[w("div",{class:g(t(z))},[C(v.$slots,"default")],2)],10,Be),[[re,t(r)]])]),_:3})],2))}});var j=B(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const Oe=S(be,{CollapseItem:j}),Se=U(j);export{Oe as E,Se as a};
