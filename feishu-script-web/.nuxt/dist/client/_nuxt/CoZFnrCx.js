import{E as R,a as D,b as S,c as A,d as M}from"./Ce3kNmOA.js";import{a as G,E as J}from"./CISzIzTE.js";import{E as K,a as O}from"./Dr6QiD2B.js";import{E as $}from"./1nCaTqwN.js";import{E as j,a as q}from"./4IFO1RhU.js";import"./CwJrRe7m.js";import{d as H,o as Q,y as V,z as t,N as p,J as m,B as l,C as a,a0 as W,g as u,x as d,K as X,L as Y,D as _,k as Z,_ as ee}from"./WQ8t1Zmy.js";const le={class:"url-expander-page"},ae={class:"connection-status"},te={key:0,class:"main-content"},oe={class:"operation-grid"},ne={class:"operation-item"},se={class:"card-content"},de={class:"operation-item"},ie={class:"card-content"},ue={class:"action-section"},re={class:"action-buttons"},pe=H({__name:"url-expander-simple",setup(ce){const f=u(!1),v=u(!1),o=W({appToken:"",tableId:""}),w=u([]),b=u(""),g=u("newColumn"),I=u("æ‰©å±•åé“¾æ¥"),T=u("bit.ly,t.cn,tinyurl.com,short.link"),h=Z(()=>w.value.filter(s=>["text","singleText","richText"].includes(s.fieldType)));async function N(){v.value=!0;try{console.log("æµ‹è¯•å‡½æ•°æ‰§è¡Œ"),await new Promise(s=>setTimeout(s,1e3)),console.log("æµ‹è¯•å®Œæˆ")}finally{v.value=!1}}function U(){console.log("å­—æ®µå˜åŒ–:",b.value)}async function x(){f.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),w.value=[{fieldId:"fld1",fieldName:"çŸ­é“¾æ¥",fieldType:"text"},{fieldId:"fld2",fieldName:"æ ‡é¢˜",fieldType:"text"},{fieldId:"fld3",fieldName:"åˆ›å»ºæ—¶é—´",fieldType:"date"}],console.log("è¡¨æ ¼æ•°æ®åŠ è½½å®Œæˆ")}finally{f.value=!1}}return Q(async()=>{if(console.log("é¡µé¢åˆå§‹åŒ–"),typeof window<"u"){const s=new URLSearchParams(window.location.search),e=s.get("app_token"),r=s.get("table_id");e&&r&&(o.appToken=e,o.tableId=r,await x())}}),(s,e)=>{const r=R,c=J,i=O,y=K,k=G,F=S,z=D,E=M,B=A,C=$,L=q,P=j;return d(),V("div",le,[e[13]||(e[13]=t("div",{class:"page-header"},[t("h2",null,"çŸ­é“¾æ¥æ‰¹é‡æ‰©å±•å·¥å…·"),t("p",{class:"page-description"},"è‡ªåŠ¨è·å–è¡¨æ ¼ä¿¡æ¯ï¼Œæ‰¹é‡å°†çŸ­é“¾æ¥è½¬æ¢ä¸ºå®é™…é“¾æ¥")],-1)),t("div",ae,[o.appToken?o.appToken&&o.tableId?(d(),p(r,{key:1,title:"âœ“ å·²è¿æ¥åˆ°é£ä¹¦è¡¨æ ¼",type:"success",description:`è¡¨æ ¼ID: ${o.tableId}`,"show-icon":"",class:"status-alert"},null,8,["description"])):m("",!0):(d(),p(r,{key:0,title:"æç¤º",type:"info",description:"è¯·åœ¨é£ä¹¦å¤šç»´è¡¨æ ¼ç¯å¢ƒä¸­ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œæˆ–ç¡®ä¿URLåŒ…å«æ­£ç¡®çš„å‚æ•°","show-icon":"",class:"status-alert"}))]),o.appToken&&o.tableId?(d(),V("div",te,[t("div",oe,[t("div",ne,[l(k,{class:"operation-card"},{header:a(()=>[...e[6]||(e[6]=[t("div",{class:"card-header"},[t("div",{class:"card-icon"},"ğŸ¯"),t("h3",null,"çŸ­é“¾æ¥åŒ¹é…è§„åˆ™")],-1)])]),default:a(()=>[t("div",se,[l(y,{"label-width":"80px","label-position":"top"},{default:a(()=>[l(i,{label:"åŒ¹é…è§„åˆ™"},{default:a(()=>[l(c,{modelValue:T.value,"onUpdate:modelValue":e[0]||(e[0]=n=>T.value=n),placeholder:"è¾“å…¥çŸ­é“¾æ¥åŸŸåï¼Œå¦‚ï¼šbit.ly, t.cn, tinyurl.com",clearable:"",size:"large"},null,8,["modelValue"]),e[7]||(e[7]=t("div",{class:"help-text"}," ğŸ’¡ æ”¯æŒå¤šä¸ªåŸŸåï¼Œç”¨é€—å·åˆ†éš”ã€‚ç•™ç©ºåˆ™åŒ¹é…æ‰€æœ‰URL ",-1))]),_:1})]),_:1})])]),_:1})]),t("div",de,[l(k,{class:"operation-card"},{header:a(()=>[...e[8]||(e[8]=[t("div",{class:"card-header"},[t("div",{class:"card-icon"},"ğŸ“‹"),t("h3",null,"é€‰æ‹©æ“ä½œåˆ—")],-1)])]),default:a(()=>[t("div",ie,[l(y,{"label-width":"80px","label-position":"top"},{default:a(()=>[l(i,{label:"çŸ­é“¾æ¥åˆ—"},{default:a(()=>[l(z,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=n=>b.value=n),placeholder:"é€‰æ‹©åŒ…å«çŸ­é“¾æ¥çš„åˆ—",filterable:"",size:"large",style:{width:"100%"},onChange:U},{default:a(()=>[(d(!0),V(X,null,Y(h.value,n=>(d(),p(F,{key:n.fieldId,label:n.fieldName,value:n.fieldId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"æ›¿æ¢æ¨¡å¼"},{default:a(()=>[l(B,{modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=n=>g.value=n),size:"large"},{default:a(()=>[l(E,{value:"inplace"},{default:a(()=>[...e[9]||(e[9]=[_("åŸåˆ—æ›¿æ¢",-1)])]),_:1}),l(E,{value:"newColumn"},{default:a(()=>[...e[10]||(e[10]=[_("æ–°å¢åˆ—",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),g.value==="newColumn"?(d(),p(i,{key:0,label:"æ–°åˆ—åç§°"},{default:a(()=>[l(c,{modelValue:I.value,"onUpdate:modelValue":e[3]||(e[3]=n=>I.value=n),placeholder:"è¾“å…¥æ–°åˆ—åç§°",clearable:"",size:"large"},null,8,["modelValue"])]),_:1})):m("",!0)]),_:1})])]),_:1})])]),t("div",ue,[l(k,null,{default:a(()=>[t("div",re,[l(C,{type:"primary",size:"large",onClick:N,loading:v.value},{default:a(()=>[...e[11]||(e[11]=[_(" ğŸ”— æµ‹è¯•è¿æ¥ ",-1)])]),_:1},8,["loading"])])]),_:1})])])):m("",!0),!o.appToken||!o.tableId?(d(),p(P,{key:1,class:"manual-input"},{default:a(()=>[l(L,{title:"æ‰‹åŠ¨è¾“å…¥è¡¨æ ¼ä¿¡æ¯ï¼ˆå¤‡ç”¨é€‰é¡¹ï¼‰",name:"manual"},{default:a(()=>[l(y,{model:o,"label-width":"120px",class:"config-form"},{default:a(()=>[l(i,{label:"App Token"},{default:a(()=>[l(c,{modelValue:o.appToken,"onUpdate:modelValue":e[4]||(e[4]=n=>o.appToken=n),placeholder:"è¯·è¾“å…¥é£ä¹¦å¤šç»´è¡¨æ ¼çš„ app_token",clearable:""},null,8,["modelValue"])]),_:1}),l(i,{label:"Table ID"},{default:a(()=>[l(c,{modelValue:o.tableId,"onUpdate:modelValue":e[5]||(e[5]=n=>o.tableId=n),placeholder:"è¯·è¾“å…¥æ•°æ®è¡¨çš„ table_id",clearable:""},null,8,["modelValue"])]),_:1}),l(i,null,{default:a(()=>[l(C,{type:"primary",onClick:x,loading:f.value},{default:a(()=>[...e[12]||(e[12]=[_(" åŠ è½½è¡¨æ ¼æ•°æ® ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})):m("",!0)])}}}),ke=ee(pe,[["__scopeId","data-v-18da5ae0"]]);export{ke as default};
