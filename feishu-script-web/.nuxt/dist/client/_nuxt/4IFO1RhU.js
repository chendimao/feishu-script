import{b as O,d as x,_ as k,w as S,a as U}from"./CwJrRe7m.js";import{V as W,a6 as q,aa as G,g as P,ac as Q,P as _,k as c,X as R,ax as K,a9 as X,d as B,x as E,y as V,R as C,M as g,Q as t,N as D,C as T,ak as J,ay as Y,au as Z,H as ee,az as te,z as w,D as se,A as ae,B as N,O as oe,aA as le,al as ne,aj as ie,at as re}from"./WQ8t1Zmy.js";import{C as F,U as M,m as de,h as $,t as ce}from"./CISzIzTE.js";import{M as pe,i as me,a as ue}from"./1nCaTqwN.js";const A=a=>W(a)||q(a)||G(a),fe=O({accordion:Boolean,modelValue:{type:x([Array,String,Number]),default:()=>de([])},expandIconPosition:{type:x([String]),default:"right"},beforeCollapse:{type:x(Function)}}),ve={[M]:A,[F]:A},j=Symbol("collapseContextKey"),ge="ElCollapse",he=(a,n)=>{const s=P($(a.modelValue)),i=o=>{s.value=o;const l=a.accordion?s.value[0]:s.value;n(M,l),n(F,l)},e=o=>{if(a.accordion)i([s.value[0]===o?"":o]);else{const l=[...s.value],d=l.indexOf(o);d>-1?l.splice(d,1):l.push(o),i(l)}},r=async o=>{const{beforeCollapse:l}=a;if(!l){e(o);return}const d=l(o);[K(d),X(d)].includes(!0)||ce(ge,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),K(d)?d.then(u=>{u!==!1&&e(o)}).catch(u=>{}):d&&e(o)};return Q(()=>a.modelValue,()=>s.value=$(a.modelValue),{deep:!0}),R(j,{activeNames:s,handleItemClick:r}),{activeNames:s,setActiveNames:i}},ye=a=>{const n=_("collapse");return{rootKls:c(()=>[n.b(),n.b(`icon-position-${a.expandIconPosition}`)])}},Ce=B({name:"ElCollapse",__name:"collapse",props:fe,emits:ve,setup(a,{expose:n,emit:s}){const i=a,e=s,{activeNames:r,setActiveNames:o}=he(i,e),{rootKls:l}=ye(i);return n({activeNames:r,setActiveNames:o}),(d,h)=>(E(),V("div",{class:g(t(l))},[C(d.$slots,"default")],2))}});var be=k(Ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const we=B({name:"ElCollapseTransition",__name:"collapse-transition",setup(a){const n=_("collapse-transition"),s=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},i={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){s(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){s(e)},leaveCancelled(e){s(e)}};return(e,r)=>(E(),D(Z,J({name:t(n).b()},Y(i)),{default:T(()=>[C(e.$slots,"default")]),_:3},16,["name"]))}});var xe=k(we,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);const Ee=S(xe),_e=O({title:{type:String,default:""},name:{type:x([String,Number]),default:void 0},icon:{type:me,default:pe},disabled:Boolean}),He=a=>{const n=ee(j),{namespace:s}=_("collapse"),i=P(!1),e=P(!1),r=te(),o=c(()=>r.current++),l=c(()=>{var p;return(p=a.name)!=null?p:`${s.value}-id-${r.prefix}-${t(o)}`}),d=c(()=>n?.activeNames.value.includes(t(l)));return{focusing:i,id:o,isActive:d,handleFocus:()=>{setTimeout(()=>{e.value?e.value=!1:i.value=!0},50)},handleHeaderClick:p=>{if(a.disabled)return;const f=p.target;f?.closest("input, textarea, select")||(n?.handleItemClick(t(l)),i.value=!1,e.value=!0)},handleEnterClick:p=>{const f=p.target;f?.closest("input, textarea, select")||(p.preventDefault(),n?.handleItemClick(t(l)))}}},Pe=(a,{focusing:n,isActive:s,id:i})=>{const e=_("collapse"),r=c(()=>[e.b("item"),e.is("active",t(s)),e.is("disabled",a.disabled)]),o=c(()=>[e.be("item","header"),e.is("active",t(s)),{focusing:t(n)&&!a.disabled}]),l=c(()=>[e.be("item","arrow"),e.is("active",t(s))]),d=c(()=>[e.be("item","title")]),h=c(()=>e.be("item","wrap")),u=c(()=>e.be("item","content")),b=c(()=>e.b(`content-${t(i)}`)),p=c(()=>e.b(`head-${t(i)}`));return{itemTitleKls:d,arrowKls:l,headKls:o,rootKls:r,itemWrapperKls:h,itemContentKls:u,scopedContentId:b,scopedHeadId:p}},Te=["id","aria-expanded","aria-controls","aria-describedby","tabindex","aria-disabled"],ke=["id","aria-hidden","aria-labelledby"],Be=B({name:"ElCollapseItem",__name:"collapse-item",props:_e,setup(a,{expose:n}){const s=a,{focusing:i,id:e,isActive:r,handleFocus:o,handleHeaderClick:l,handleEnterClick:d}=He(s),{arrowKls:h,headKls:u,rootKls:b,itemTitleKls:p,itemWrapperKls:f,itemContentKls:L,scopedContentId:H,scopedHeadId:I}=Pe(s,{focusing:i,isActive:r,id:e});return n({isActive:r}),(v,m)=>(E(),V("div",{class:g(t(b))},[w("div",{id:t(I),class:g(t(u)),"aria-expanded":t(r),"aria-controls":t(H),"aria-describedby":t(H),tabindex:v.disabled?void 0:0,"aria-disabled":v.disabled,role:"button",onClick:m[0]||(m[0]=(...y)=>t(l)&&t(l)(...y)),onKeydown:m[1]||(m[1]=le(ne((...y)=>t(d)&&t(d)(...y),["stop"]),["space","enter"])),onFocus:m[2]||(m[2]=(...y)=>t(o)&&t(o)(...y)),onBlur:m[3]||(m[3]=y=>i.value=!1)},[w("span",{class:g(t(p))},[C(v.$slots,"title",{isActive:t(r)},()=>[se(ae(v.title),1)])],2),C(v.$slots,"icon",{isActive:t(r)},()=>[N(t(ue),{class:g(t(h))},{default:T(()=>[(E(),D(oe(v.icon)))]),_:1},8,["class"])])],42,Te),N(t(Ee),null,{default:T(()=>[ie(w("div",{id:t(H),role:"region",class:g(t(f)),"aria-hidden":!t(r),"aria-labelledby":t(I)},[w("div",{class:g(t(L))},[C(v.$slots,"default")],2)],10,ke),[[re,t(r)]])]),_:3})],2))}});var z=k(Be,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const Ae=S(be,{CollapseItem:z}),Oe=U(z);export{Ae as E,Oe as a};
