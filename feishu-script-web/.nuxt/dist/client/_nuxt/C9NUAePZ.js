import{b as O,d as x,_ as k,w as D,J,F as U,D as W}from"./Bue0N5W5.js";import{R as q,a6 as G,aa as R,g as H,ac as Q,O as _,k as c,T as X,ax as K,a9 as Y,d as I,x as E,y as S,P as C,H as g,L as t,I as V,C as P,ak as Z,ay as ee,au as te,N as se,az as ae,z as w,D as oe,A as le,B as N,J as ne,aA as ie,al as de,aj as re,at as ce}from"./sq3K_qnO.js";import{C as F,U as j,m as pe,h as $,t as me}from"./BOZUAO0b.js";import{d as ue}from"./CckOn9TO.js";const A=a=>q(a)||G(a)||R(a),fe=O({accordion:Boolean,modelValue:{type:x([Array,String,Number]),default:()=>pe([])},expandIconPosition:{type:x([String]),default:"right"},beforeCollapse:{type:x(Function)}}),ve={[j]:A,[F]:A},L=Symbol("collapseContextKey"),ge="ElCollapse",he=(a,n)=>{const s=H($(a.modelValue)),i=o=>{s.value=o;const l=a.accordion?s.value[0]:s.value;n(j,l),n(F,l)},e=o=>{if(a.accordion)i([s.value[0]===o?"":o]);else{const l=[...s.value],r=l.indexOf(o);r>-1?l.splice(r,1):l.push(o),i(l)}},d=async o=>{const{beforeCollapse:l}=a;if(!l){e(o);return}const r=l(o);[K(r),Y(r)].includes(!0)||me(ge,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),K(r)?r.then(u=>{u!==!1&&e(o)}).catch(u=>{}):r&&e(o)};return Q(()=>a.modelValue,()=>s.value=$(a.modelValue),{deep:!0}),X(L,{activeNames:s,handleItemClick:d}),{activeNames:s,setActiveNames:i}},ye=a=>{const n=_("collapse");return{rootKls:c(()=>[n.b(),n.b(`icon-position-${a.expandIconPosition}`)])}},Ce=I({name:"ElCollapse",__name:"collapse",props:fe,emits:ve,setup(a,{expose:n,emit:s}){const i=a,e=s,{activeNames:d,setActiveNames:o}=he(i,e),{rootKls:l}=ye(i);return n({activeNames:d,setActiveNames:o}),(r,h)=>(E(),S("div",{class:g(t(l))},[C(r.$slots,"default")],2))}});var be=k(Ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const we=I({name:"ElCollapseTransition",__name:"collapse-transition",setup(a){const n=_("collapse-transition"),s=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},i={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){s(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){s(e)},leaveCancelled(e){s(e)}};return(e,d)=>(E(),V(te,Z({name:t(n).b()},ee(i)),{default:P(()=>[C(e.$slots,"default")]),_:3},16,["name"]))}});var xe=k(we,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);const Ee=D(xe),_e=O({title:{type:String,default:""},name:{type:x([String,Number]),default:void 0},icon:{type:J,default:ue},disabled:Boolean}),Te=a=>{const n=se(L),{namespace:s}=_("collapse"),i=H(!1),e=H(!1),d=ae(),o=c(()=>d.current++),l=c(()=>{var p;return(p=a.name)!=null?p:`${s.value}-id-${d.prefix}-${t(o)}`}),r=c(()=>n?.activeNames.value.includes(t(l)));return{focusing:i,id:o,isActive:r,handleFocus:()=>{setTimeout(()=>{e.value?e.value=!1:i.value=!0},50)},handleHeaderClick:p=>{if(a.disabled)return;const f=p.target;f?.closest("input, textarea, select")||(n?.handleItemClick(t(l)),i.value=!1,e.value=!0)},handleEnterClick:p=>{const f=p.target;f?.closest("input, textarea, select")||(p.preventDefault(),n?.handleItemClick(t(l)))}}},He=(a,{focusing:n,isActive:s,id:i})=>{const e=_("collapse"),d=c(()=>[e.b("item"),e.is("active",t(s)),e.is("disabled",a.disabled)]),o=c(()=>[e.be("item","header"),e.is("active",t(s)),{focusing:t(n)&&!a.disabled}]),l=c(()=>[e.be("item","arrow"),e.is("active",t(s))]),r=c(()=>[e.be("item","title")]),h=c(()=>e.be("item","wrap")),u=c(()=>e.be("item","content")),b=c(()=>e.b(`content-${t(i)}`)),p=c(()=>e.b(`head-${t(i)}`));return{itemTitleKls:r,arrowKls:l,headKls:o,rootKls:d,itemWrapperKls:h,itemContentKls:u,scopedContentId:b,scopedHeadId:p}},Pe=["id","aria-expanded","aria-controls","aria-describedby","tabindex","aria-disabled"],ke=["id","aria-hidden","aria-labelledby"],Ie=I({name:"ElCollapseItem",__name:"collapse-item",props:_e,setup(a,{expose:n}){const s=a,{focusing:i,id:e,isActive:d,handleFocus:o,handleHeaderClick:l,handleEnterClick:r}=Te(s),{arrowKls:h,headKls:u,rootKls:b,itemTitleKls:p,itemWrapperKls:f,itemContentKls:z,scopedContentId:T,scopedHeadId:B}=He(s,{focusing:i,isActive:d,id:e});return n({isActive:d}),(v,m)=>(E(),S("div",{class:g(t(b))},[w("div",{id:t(B),class:g(t(u)),"aria-expanded":t(d),"aria-controls":t(T),"aria-describedby":t(T),tabindex:v.disabled?void 0:0,"aria-disabled":v.disabled,role:"button",onClick:m[0]||(m[0]=(...y)=>t(l)&&t(l)(...y)),onKeydown:m[1]||(m[1]=ie(de((...y)=>t(r)&&t(r)(...y),["stop"]),["space","enter"])),onFocus:m[2]||(m[2]=(...y)=>t(o)&&t(o)(...y)),onBlur:m[3]||(m[3]=y=>i.value=!1)},[w("span",{class:g(t(p))},[C(v.$slots,"title",{isActive:t(d)},()=>[oe(le(v.title),1)])],2),C(v.$slots,"icon",{isActive:t(d)},()=>[N(t(U),{class:g(t(h))},{default:P(()=>[(E(),V(ne(v.icon)))]),_:1},8,["class"])])],42,Pe),N(t(Ee),null,{default:P(()=>[re(w("div",{id:t(T),role:"region",class:g(t(f)),"aria-hidden":!t(d),"aria-labelledby":t(B)},[w("div",{class:g(t(z))},[C(v.$slots,"default")],2)],10,ke),[[ce,t(d)]])]),_:3})],2))}});var M=k(Ie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const Ae=D(be,{CollapseItem:M}),Oe=W(M);export{Ae as E,Oe as a};
