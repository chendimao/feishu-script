import{E as D,a as L,b as S,c as A,d as G}from"./CUsBS2hm.js";import{a as M,E as O}from"./BOZUAO0b.js";import{E as X,a as $}from"./3bT2f6wW.js";import{E as j}from"./Bue0N5W5.js";import{E as q,a as H}from"./C9NUAePZ.js";import{d as J,o as K,y as I,z as t,I as p,E as m,B as l,C as a,X as Q,g as u,x as d,F as W,G as Y,D as f,k as Z,_ as ee}from"./sq3K_qnO.js";import"./CckOn9TO.js";const le={class:"url-expander-page"},ae={class:"connection-status"},te={key:0,class:"main-content"},oe={class:"operation-grid"},ne={class:"operation-item"},se={class:"card-content"},de={class:"operation-item"},ie={class:"card-content"},ue={class:"action-section"},re={class:"action-buttons"},pe=J({__name:"url-expander-simple",setup(ce){const _=u(!1),v=u(!1),o=Q({appToken:"",tableId:""}),V=u([]),b=u(""),g=u("newColumn"),w=u("æ‰©å±•åé“¾æ¥"),T=u("bit.ly,t.cn,tinyurl.com,short.link"),h=Z(()=>V.value.filter(s=>["text","singleText","richText"].includes(s.fieldType)));async function F(){v.value=!0;try{console.log("æµ‹è¯•å‡½æ•°æ‰§è¡Œ"),await new Promise(s=>setTimeout(s,1e3)),console.log("æµ‹è¯•å®Œæˆ")}finally{v.value=!1}}function N(){console.log("å­—æ®µå˜åŒ–:",b.value)}async function E(){_.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),V.value=[{fieldId:"fld1",fieldName:"çŸ­é“¾æ¥",fieldType:"text"},{fieldId:"fld2",fieldName:"æ ‡é¢˜",fieldType:"text"},{fieldId:"fld3",fieldName:"åˆ›å»ºæ—¶é—´",fieldType:"date"}],console.log("è¡¨æ ¼æ•°æ®åŠ è½½å®Œæˆ")}finally{_.value=!1}}return K(async()=>{if(console.log("é¡µé¢åˆå§‹åŒ–"),typeof window<"u"){const s=new URLSearchParams(window.location.search),e=s.get("app_token"),r=s.get("table_id");e&&r&&(o.appToken=e,o.tableId=r,await E())}}),(s,e)=>{const r=D,c=O,i=$,y=X,k=M,U=S,z=L,x=G,B=A,C=j,P=H,R=q;return d(),I("div",le,[e[13]||(e[13]=t("div",{class:"page-header"},[t("h2",null,"çŸ­é“¾æ¥æ‰¹é‡æ‰©å±•å·¥å…·"),t("p",{class:"page-description"},"è‡ªåŠ¨è·å–è¡¨æ ¼ä¿¡æ¯ï¼Œæ‰¹é‡å°†çŸ­é“¾æ¥è½¬æ¢ä¸ºå®é™…é“¾æ¥")],-1)),t("div",ae,[o.appToken?o.appToken&&o.tableId?(d(),p(r,{key:1,title:"âœ“ å·²è¿æ¥åˆ°é£ä¹¦è¡¨æ ¼",type:"success",description:`è¡¨æ ¼ID: ${o.tableId}`,"show-icon":"",class:"status-alert"},null,8,["description"])):m("",!0):(d(),p(r,{key:0,title:"æç¤º",type:"info",description:"è¯·åœ¨é£ä¹¦å¤šç»´è¡¨æ ¼ç¯å¢ƒä¸­ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œæˆ–ç¡®ä¿URLåŒ…å«æ­£ç¡®çš„å‚æ•°","show-icon":"",class:"status-alert"}))]),o.appToken&&o.tableId?(d(),I("div",te,[t("div",oe,[t("div",ne,[l(k,{class:"operation-card"},{header:a(()=>[...e[6]||(e[6]=[t("div",{class:"card-header"},[t("div",{class:"card-icon"},"ğŸ¯"),t("h3",null,"çŸ­é“¾æ¥åŒ¹é…è§„åˆ™")],-1)])]),default:a(()=>[t("div",se,[l(y,{"label-width":"80px","label-position":"top"},{default:a(()=>[l(i,{label:"åŒ¹é…è§„åˆ™"},{default:a(()=>[l(c,{modelValue:T.value,"onUpdate:modelValue":e[0]||(e[0]=n=>T.value=n),placeholder:"è¾“å…¥çŸ­é“¾æ¥åŸŸåï¼Œå¦‚ï¼šbit.ly, t.cn, tinyurl.com",clearable:"",size:"large"},null,8,["modelValue"]),e[7]||(e[7]=t("div",{class:"help-text"}," ğŸ’¡ æ”¯æŒå¤šä¸ªåŸŸåï¼Œç”¨é€—å·åˆ†éš”ã€‚ç•™ç©ºåˆ™åŒ¹é…æ‰€æœ‰URL ",-1))]),_:1})]),_:1})])]),_:1})]),t("div",de,[l(k,{class:"operation-card"},{header:a(()=>[...e[8]||(e[8]=[t("div",{class:"card-header"},[t("div",{class:"card-icon"},"ğŸ“‹"),t("h3",null,"é€‰æ‹©æ“ä½œåˆ—")],-1)])]),default:a(()=>[t("div",ie,[l(y,{"label-width":"80px","label-position":"top"},{default:a(()=>[l(i,{label:"çŸ­é“¾æ¥åˆ—"},{default:a(()=>[l(z,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=n=>b.value=n),placeholder:"é€‰æ‹©åŒ…å«çŸ­é“¾æ¥çš„åˆ—",filterable:"",size:"large",style:{width:"100%"},onChange:N},{default:a(()=>[(d(!0),I(W,null,Y(h.value,n=>(d(),p(U,{key:n.fieldId,label:n.fieldName,value:n.fieldId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"æ›¿æ¢æ¨¡å¼"},{default:a(()=>[l(B,{modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=n=>g.value=n),size:"large"},{default:a(()=>[l(x,{value:"inplace"},{default:a(()=>[...e[9]||(e[9]=[f("åŸåˆ—æ›¿æ¢",-1)])]),_:1}),l(x,{value:"newColumn"},{default:a(()=>[...e[10]||(e[10]=[f("æ–°å¢åˆ—",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),g.value==="newColumn"?(d(),p(i,{key:0,label:"æ–°åˆ—åç§°"},{default:a(()=>[l(c,{modelValue:w.value,"onUpdate:modelValue":e[3]||(e[3]=n=>w.value=n),placeholder:"è¾“å…¥æ–°åˆ—åç§°",clearable:"",size:"large"},null,8,["modelValue"])]),_:1})):m("",!0)]),_:1})])]),_:1})])]),t("div",ue,[l(k,null,{default:a(()=>[t("div",re,[l(C,{type:"primary",size:"large",onClick:F,loading:v.value},{default:a(()=>[...e[11]||(e[11]=[f(" ğŸ”— æµ‹è¯•è¿æ¥ ",-1)])]),_:1},8,["loading"])])]),_:1})])])):m("",!0),!o.appToken||!o.tableId?(d(),p(R,{key:1,class:"manual-input"},{default:a(()=>[l(P,{title:"æ‰‹åŠ¨è¾“å…¥è¡¨æ ¼ä¿¡æ¯ï¼ˆå¤‡ç”¨é€‰é¡¹ï¼‰",name:"manual"},{default:a(()=>[l(y,{model:o,"label-width":"120px",class:"config-form"},{default:a(()=>[l(i,{label:"App Token"},{default:a(()=>[l(c,{modelValue:o.appToken,"onUpdate:modelValue":e[4]||(e[4]=n=>o.appToken=n),placeholder:"è¯·è¾“å…¥é£ä¹¦å¤šç»´è¡¨æ ¼çš„ app_token",clearable:""},null,8,["modelValue"])]),_:1}),l(i,{label:"Table ID"},{default:a(()=>[l(c,{modelValue:o.tableId,"onUpdate:modelValue":e[5]||(e[5]=n=>o.tableId=n),placeholder:"è¯·è¾“å…¥æ•°æ®è¡¨çš„ table_id",clearable:""},null,8,["modelValue"])]),_:1}),l(i,null,{default:a(()=>[l(C,{type:"primary",onClick:E,loading:_.value},{default:a(()=>[...e[12]||(e[12]=[f(" åŠ è½½è¡¨æ ¼æ•°æ® ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})):m("",!0)])}}}),ke=ee(pe,[["__scopeId","data-v-f4c54c93"]]);export{ke as default};
