import{E as D,a as L,b as S,c as A,d as G}from"./uhmgGxtv.js";import{a as M,E as H}from"./DWEVfuml.js";import{E as O,a as Y}from"./DFr4MPH_.js";import{E as $}from"./TUPG9Pl9.js";import{E as j,a as q}from"./C5Tgaq1D.js";import"./Fejg-vgw.js";import{d as J,o as K,y as I,z as t,I as p,E as m,B as l,C as a,Y as Q,g as r,x as d,G as W,H as X,D as _,k as Z,_ as ee}from"./Bd8Sv95l.js";import"./DXASGQAI.js";const le={class:"url-expander-page"},ae={class:"connection-status"},te={key:0,class:"main-content"},oe={class:"operation-grid"},ne={class:"operation-item"},se={class:"card-content"},de={class:"operation-item"},ie={class:"card-content"},re={class:"action-section"},ue={class:"action-buttons"},pe=J({__name:"url-expander-simple",setup(ce){const f=r(!1),v=r(!1),o=Q({appToken:"",tableId:""}),V=r([]),b=r(""),g=r("newColumn"),w=r("æ‰©å±•åé“¾æ¥"),T=r("bit.ly,t.cn,tinyurl.com,short.link"),h=Z(()=>V.value.filter(s=>["text","singleText","richText"].includes(s.fieldType)));async function N(){v.value=!0;try{console.log("æµ‹è¯•å‡½æ•°æ‰§è¡Œ"),await new Promise(s=>setTimeout(s,1e3)),console.log("æµ‹è¯•å®Œæˆ")}finally{v.value=!1}}function U(){console.log("å­—æ®µå˜åŒ–:",b.value)}async function E(){f.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),V.value=[{fieldId:"fld1",fieldName:"çŸ­é“¾æ¥",fieldType:"text"},{fieldId:"fld2",fieldName:"æ ‡é¢˜",fieldType:"text"},{fieldId:"fld3",fieldName:"åˆ›å»ºæ—¶é—´",fieldType:"date"}],console.log("è¡¨æ ¼æ•°æ®åŠ è½½å®Œæˆ")}finally{f.value=!1}}return K(async()=>{if(console.log("é¡µé¢åˆå§‹åŒ–"),typeof window<"u"){const s=new URLSearchParams(window.location.search),e=s.get("app_token"),u=s.get("table_id");e&&u&&(o.appToken=e,o.tableId=u,await E())}}),(s,e)=>{const u=D,c=H,i=Y,y=O,k=M,F=S,z=L,x=G,B=A,C=$,P=q,R=j;return d(),I("div",le,[e[13]||(e[13]=t("div",{class:"page-header"},[t("h2",null,"çŸ­é“¾æ¥æ‰¹é‡æ‰©å±•å·¥å…·"),t("p",{class:"page-description"},"è‡ªåŠ¨è·å–è¡¨æ ¼ä¿¡æ¯ï¼Œæ‰¹é‡å°†çŸ­é“¾æ¥è½¬æ¢ä¸ºå®é™…é“¾æ¥")],-1)),t("div",ae,[o.appToken?o.appToken&&o.tableId?(d(),p(u,{key:1,title:"âœ“ å·²è¿æ¥åˆ°é£ä¹¦è¡¨æ ¼",type:"success",description:`è¡¨æ ¼ID: ${o.tableId}`,"show-icon":"",class:"status-alert"},null,8,["description"])):m("",!0):(d(),p(u,{key:0,title:"æç¤º",type:"info",description:"è¯·åœ¨é£ä¹¦å¤šç»´è¡¨æ ¼ç¯å¢ƒä¸­ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œæˆ–ç¡®ä¿URLåŒ…å«æ­£ç¡®çš„å‚æ•°","show-icon":"",class:"status-alert"}))]),o.appToken&&o.tableId?(d(),I("div",te,[t("div",oe,[t("div",ne,[l(k,{class:"operation-card"},{header:a(()=>[...e[6]||(e[6]=[t("div",{class:"card-header"},[t("div",{class:"card-icon"},"ğŸ¯"),t("h3",null,"çŸ­é“¾æ¥åŒ¹é…è§„åˆ™")],-1)])]),default:a(()=>[t("div",se,[l(y,{"label-width":"80px","label-position":"top"},{default:a(()=>[l(i,{label:"åŒ¹é…è§„åˆ™"},{default:a(()=>[l(c,{modelValue:T.value,"onUpdate:modelValue":e[0]||(e[0]=n=>T.value=n),placeholder:"è¾“å…¥çŸ­é“¾æ¥åŸŸåï¼Œå¦‚ï¼šbit.ly, t.cn, tinyurl.com",clearable:"",size:"large"},null,8,["modelValue"]),e[7]||(e[7]=t("div",{class:"help-text"}," ğŸ’¡ æ”¯æŒå¤šä¸ªåŸŸåï¼Œç”¨é€—å·åˆ†éš”ã€‚ç•™ç©ºåˆ™åŒ¹é…æ‰€æœ‰URL ",-1))]),_:1})]),_:1})])]),_:1})]),t("div",de,[l(k,{class:"operation-card"},{header:a(()=>[...e[8]||(e[8]=[t("div",{class:"card-header"},[t("div",{class:"card-icon"},"ğŸ“‹"),t("h3",null,"é€‰æ‹©æ“ä½œåˆ—")],-1)])]),default:a(()=>[t("div",ie,[l(y,{"label-width":"80px","label-position":"top"},{default:a(()=>[l(i,{label:"çŸ­é“¾æ¥åˆ—"},{default:a(()=>[l(z,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=n=>b.value=n),placeholder:"é€‰æ‹©åŒ…å«çŸ­é“¾æ¥çš„åˆ—",filterable:"",size:"large",style:{width:"100%"},onChange:U},{default:a(()=>[(d(!0),I(W,null,X(h.value,n=>(d(),p(F,{key:n.fieldId,label:n.fieldName,value:n.fieldId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"æ›¿æ¢æ¨¡å¼"},{default:a(()=>[l(B,{modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=n=>g.value=n),size:"large"},{default:a(()=>[l(x,{value:"inplace"},{default:a(()=>[...e[9]||(e[9]=[_("åŸåˆ—æ›¿æ¢",-1)])]),_:1}),l(x,{value:"newColumn"},{default:a(()=>[...e[10]||(e[10]=[_("æ–°å¢åˆ—",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),g.value==="newColumn"?(d(),p(i,{key:0,label:"æ–°åˆ—åç§°"},{default:a(()=>[l(c,{modelValue:w.value,"onUpdate:modelValue":e[3]||(e[3]=n=>w.value=n),placeholder:"è¾“å…¥æ–°åˆ—åç§°",clearable:"",size:"large"},null,8,["modelValue"])]),_:1})):m("",!0)]),_:1})])]),_:1})])]),t("div",re,[l(k,null,{default:a(()=>[t("div",ue,[l(C,{type:"primary",size:"large",onClick:N,loading:v.value},{default:a(()=>[...e[11]||(e[11]=[_(" ğŸ”— æµ‹è¯•è¿æ¥ ",-1)])]),_:1},8,["loading"])])]),_:1})])])):m("",!0),!o.appToken||!o.tableId?(d(),p(R,{key:1,class:"manual-input"},{default:a(()=>[l(P,{title:"æ‰‹åŠ¨è¾“å…¥è¡¨æ ¼ä¿¡æ¯ï¼ˆå¤‡ç”¨é€‰é¡¹ï¼‰",name:"manual"},{default:a(()=>[l(y,{model:o,"label-width":"120px",class:"config-form"},{default:a(()=>[l(i,{label:"App Token"},{default:a(()=>[l(c,{modelValue:o.appToken,"onUpdate:modelValue":e[4]||(e[4]=n=>o.appToken=n),placeholder:"è¯·è¾“å…¥é£ä¹¦å¤šç»´è¡¨æ ¼çš„ app_token",clearable:""},null,8,["modelValue"])]),_:1}),l(i,{label:"Table ID"},{default:a(()=>[l(c,{modelValue:o.tableId,"onUpdate:modelValue":e[5]||(e[5]=n=>o.tableId=n),placeholder:"è¯·è¾“å…¥æ•°æ®è¡¨çš„ table_id",clearable:""},null,8,["modelValue"])]),_:1}),l(i,null,{default:a(()=>[l(C,{type:"primary",onClick:E,loading:f.value},{default:a(()=>[...e[12]||(e[12]=[_(" åŠ è½½è¡¨æ ¼æ•°æ® ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})):m("",!0)])}}}),Ie=ee(pe,[["__scopeId","data-v-18da5ae0"]]);export{Ie as default};
